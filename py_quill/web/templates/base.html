{% extends "root.html" %}

{# NOTE: Keep this outside of `head_meta` so nested blocks can see it. #}
{% set default_meta_description = "Don't just read jokes, see them! Snickerdoodle Jokes pairs hilarious puns with adorable art. Grab the illustrated Book or download the App today." %}

{% block title %}{{ site_name }} jokes{% endblock %}

{% block head_meta %}
{% set meta_title = self.title() | striptags | trim %}
{% set meta_description %}{% block meta_description %}{{ default_meta_description }}{% endblock %}{% endset %}
{% set meta_description = meta_description | striptags | trim %}
<meta name="description"
  content="{{ meta_description }}">
<link rel="canonical" href="{{ canonical_url }}">
{% if prev_url %}
<link rel="prev" href="{{ prev_url }}">{% endif %}
{% if next_url %}
<link rel="next" href="{{ next_url }}">{% endif %}

<!-- Open Graph -->
<meta property="og:title" content="{{ meta_title }}">
<meta property="og:description"
  content="{{ meta_description }}">
<meta property="og:type" content="website">
<meta property="og:url" content="{{ canonical_url }}">

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ meta_title }}">
<meta name="twitter:description"
  content="{{ meta_description }}">
{% endblock %}

{% block body %}
{% set current_path = request.path %}
{% set brand_is_clickable = brand_is_clickable|default(true) %}
<div class="site-shell">
  <header class="site-header">
    <div class="header-inner">
      {% if brand_is_clickable %}
      <a class="brand" href="{{ url_for('web.index') }}" aria-label="{{ site_name }} home">
        <img class="brand-logo" alt="{{ site_name }} logo"
          src="https://images.quillsstorybook.com/cdn-cgi/image/width=128,format=auto,quality=60/_joke_assets/icon_cookie_01_transparent_light_128.png" />
        <span class="brand-text text-brand">{{ site_name }}</span>
      </a>
      {% else %}
      <div class="brand">
        <img class="brand-logo" alt="{{ site_name }} logo"
          src="https://images.quillsstorybook.com/cdn-cgi/image/width=128,format=auto,quality=60/_joke_assets/icon_cookie_01_transparent_light_128.png" />
        <span class="brand-text text-brand">{{ site_name }}</span>
      </div>
      {% endif %}
      <nav class="primary-nav" aria-label="Primary">
        <ul class="nav-list">
          <li>
            <a class="nav-link text-button{% if current_path == '/' %} nav-link--active{% endif %}"
              href="{{ url_for('web.index') }}"
              data-analytics-event="web_nav_home_click"
              data-analytics-label="home">
              Home
            </a>
          </li>
          <li>
            <a class="nav-link text-button{% if current_path == '/notes' or current_path == '/notes-all' %} nav-link--active{% endif %}"
              href="{{ url_for('web.notes') }}"
              data-analytics-event="web_nav_notes_click"
              data-analytics-label="printable_joke_notes">
              Printables
            </a>
          </li>
          <li>
            <a class="nav-link text-button{% if current_path == '/about' %} nav-link--active{% endif %}"
              href="{{ url_for('web.about') }}"
              data-analytics-event="web_nav_about_click"
              data-analytics-label="about">
              About
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>
  <main class="site-main">
    <div class="main-container">
      {% block content %}{% endblock %}
    </div>
  </main>
  <footer class="site-footer">
    <div class="site-footer__inner text-footer">
      <small>&copy; {{ site_name }} {{ now_year|default(2025) }}</small>
      <a class="site-footer__link"
        href="/privacy.html"
        target="_blank"
        rel="noopener noreferrer"
        data-analytics-event="web_footer_privacy_click"
        data-analytics-label="privacy_policy">
        Privacy Policy
      </a>
    </div>
  </footer>
</div>
{% endblock %}

{% block scripts %}
{% block extra_scripts %}{% endblock %}
{% endblock %}
 
