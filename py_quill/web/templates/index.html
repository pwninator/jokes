{% extends "base.html" %}
{% from "components/jokes.html" import joke_card %}

{% block title %}Snickerdoodle Jokes | Daily Fun for Everyone{% endblock %}

{% block head_extra %}
  <meta name="description" content="Welcome to Snickerdoodle Jokes! Get a new, funny joke every day. Download our app for more laughs!">
  <link rel="canonical" href="{{ url_for('web.index', _external=True) }}">
  <meta property="og:title" content="Snickerdoodle Jokes | Daily Fun for Everyone">
  <meta property="og:description" content="Today's joke: {{ joke.setup_text }}">
  <meta property="og:image" content="https://images.quillsstorybook.com/cdn-cgi/image/width=1024,format=auto,quality=75/banner001.png">
  <meta property="og:url" content="{{ url_for('web.index', _external=True) }}">
  <meta name="twitter:card" content="summary_large_image">
  <style>
    /* Landing page polish: remove oversized banner, tighten hierarchy */
    .hero {
      max-width: 900px;
      margin: 0 auto 20px;
      text-align: center;
    }
    .hero-title {
      font-size: 1.8rem;
      margin: 0 0 6px;
    }
    .hero-subtitle {
      color: #b8b8b8;
      margin: 0 0 10px;
      font-size: 1rem;
    }
    .joke-card {
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      padding: 24px;
      max-width: 600px;
      margin: 2rem auto;
      text-align: center;
    }
    .joke-image {
      width: 100%;
      height: auto;
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    .joke-text {
      font-size: 1.25rem;
      color: #333;
      margin-bottom: 1rem;
    }
    .punchline {
      display: none;
    }
    details[open] .punchline {
      display: block;
    }
    
    .cta-section { text-align: center; margin: 2.2rem 0; }
    .value-props { display: flex; justify-content: center; gap: 1.2rem; margin-top: 2.2rem; flex-wrap: wrap; }
    .prop-box { background-color: var(--card-bg); border: 1px solid var(--card-border); border-radius: 14px; padding: 1.2rem 1rem; width: 240px; text-align: center; box-shadow: 0 6px 18px rgba(0,0,0,0.25); }
    .prop-icon { width: 28px; height: 28px; border-radius: 50%; background: var(--primary); display: inline-flex; align-items: center; justify-content: center; color: var(--on-primary); font-weight: 800; box-shadow: inset 0 0 0 1px var(--primary-700); margin-bottom: 8px; }
    .prop-box h3 {
      margin-top: 0;
    }
  </style>
{% endblock %}

{% block content %}
  <section class="hero" aria-label="Intro">
    <h2 class="hero-title">Today's Joke</h2>
    <p class="hero-subtitle">Family‚Äëfriendly laughs with revealable punchlines</p>
  </section>
  {{ joke_card(joke, reveal_label='Reveal Punchline', image_size=600) }}

  <div class="cta-section">
    <a href="https://play.google.com/store/apps/details?id=com.builtwithporpoise.jokes" target="_blank" rel="noopener noreferrer">
      <img class="play-badge" alt="Get it on Google Play" style="height:56px;"
        src="https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png" />
    </a>
  </div>

  <div class="value-props">
    <div class="prop-box">
      <div class="prop-icon" aria-hidden="true">üôÇ</div>
      <h3>Daily Laughs</h3>
      <p>Get a new, hilarious joke delivered to you every day.</p>
    </div>
    <div class="prop-box">
      <div class="prop-icon" aria-hidden="true">üñºÔ∏è</div>
      <h3>Beautiful Images</h3>
      <p>Each joke comes with funny, AI-generated images.</p>
    </div>
    <div class="prop-box">
      <div class="prop-icon" aria-hidden="true">üîó</div>
      <h3>Share with Friends</h3>
      <p>Easily share your favorite jokes and spread the fun.</p>
    </div>
  </div>
{% endblock %}
